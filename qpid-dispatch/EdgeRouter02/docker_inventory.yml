all:
    hosts:
        docker-host:
            ansible_connection: local
    vars:
        ansible_connection: docker
        ansible_user: root
        executor: docker
        executor_docker_network: lab0
        image_router: enkeys/qpid-dispatch:latest
        image_broker: rhmessagingqe/artemis:fedora27
    children:
        routers:
            children:
                router-internal:
                    hosts:
                        Router.I1:
                        Router.I2:
                        Router.I3:
                router-edge:
                    hosts:
                        Router.E1:
                        Router.E2:
                        Router.E3:
            vars:
                component: router
                implementation: dispatch
                service: qdrouterd
                router_port: 5672
                router_config: /etc/qpid-dispatch/qdrouterd.conf
        brokers:
            children:
                broker-master:
                    hosts:
                        Broker.M.E3:
                            broker_name: amqmastere
                        Broker.M.I2:
                            broker_name: amqmasteri
                broker-slave:
                    hosts:
                        Broker.S.E3:
                            broker_name: amqslavee
                        Broker.S.I2:
                            broker_name: amqslavei
            vars:
                component: broker
                implementation: artemis
                broker_path: /opt/broker1
        clients:
            hosts:
                cli-java:
                    implementation: java
                cli-proton-python:
                    implementation: python
                cli-rhea:
                    implementation: nodejs
            vars:
                component: client
